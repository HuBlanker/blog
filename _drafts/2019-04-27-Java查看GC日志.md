---
layout: post
category: [Java]
tags:
  - Java
---

本文记录以及测试Java的GC相关日志收集及分析方法.

## 打印GC日志

JVM的GC日志的主要参数包括如下几个：

* -XX:+PrintGC 输出GC日志
- -XX:+PrintGCDetails 输出GC的详细日志
- -XX:+PrintGCTimeStamps 输出GC的时间戳（以基准时间的形式）
- -XX:+PrintGCDateStamps 输出GC的时间戳（以日期的形式，如 2017-09-04T21:53:59.234+0800）
- -XX:+PrintHeapAtGC 在进行GC的前后打印出堆的信息
- -Xloggc:../logs/gc.log 日志文件的输出路径


## 动态查看GC信息

可以使用`jstat`命令查看,例如使用`jstat -gc pid time`,可以每隔time时间将进程ID为pid的java进程的GC日志打印到标准输出.

```
 S0C    S1C    S0U    S1U      EC       EU        OC         OU       MC     MU    CCSC   CCSU   YGC     YGCT    FGC    FGCT     GCT
512.0  512.0   64.0   0.0   24064.0   3369.0   87552.0     833.5    4864.0 3412.9 512.0  366.1      88    0.089   0      0.000    0.089
512.0  512.0   64.0   0.0   24064.0   3369.0   87552.0     833.5    4864.0 3412.9 512.0  366.1      88    0.089   0      0.000    0.089
512.0  512.0   64.0   0.0   24064.0   3369.0   87552.0     833.5    4864.0 3412.9 512.0  366.1      88    0.089   0      0.000    0.089
512.0  512.0   64.0   0.0   24064.0   3369.0   87552.0     833.5    4864.0 3412.9 512.0  366.1      88    0.089   0      0.000    0.089
512.0  512.0   64.0   0.0   24064.0   5775.5   87552.0     833.5    4864.0 3412.9 512.0  366.1      88    0.089   0      0.000    0.089
512.0  512.0   64.0   0.0   24064.0   5775.5   87552.0     833.5    4864.0 3412.9 512.0  366.1      88    0.089   0      0.000    0.089
```

## 分析GC日志

<br>
完。

<br>
<br>
<br>
<br>
<h4>ChangeLog</h4>
2019-04-22 完成
<br>
<br>

**以上皆为个人所思所得，如有错误欢迎评论区指正。**

**欢迎转载，烦请署名并保留原文链接。**

**联系邮箱：huyanshi2580@gmail.com**

**更多学习笔记见个人博客------><a href="{{ site.baseurl }}/">呼延十</a>**
